DECLARE
 CURSOR CLOJ IS
   SELECT CD_LOJ,NM_LOJ FROM LOJA;
 CURSOR CVEN(PLOJ NUMBER) IS
  SELECT CD_LOJ,CD_VEN,DT_VEN FROM VENDA WHERE CD_LOJ=PLOJ;
 CURSOR CPAR(PLOJ NUMBER, PVEN NUMBER) IS
      SELECT CD_LOJ, CD_VEN,CD_PAR,DT_VCTO,VL_PAR 
      FROM PARCELA 
      WHERE  CD_LOJ = PLOJ AND CD_VEN=PVEN;
  RLOJ CLOJ%ROWTYPE;
  RVEN CVEN%ROWTYPE;
  RPAR CPAR%ROWTYPE;
BEGIN
  OPEN CLOJ;
  FETCH CLOJ INTO RLOJ;
  WHILE CLOJ%FOUND LOOP
    DBMS_OUTPUT.PUT_LINE(RLOJ.NM_LOJ);
    OPEN CVEN(RLOJ.CD_LOJ);
    FETCH CVEN INTO RVEN;
    WHILE CVEN%FOUND LOOP
      DBMS_OUTPUT.PUT_LINE(RVEN.CD_LOJ||RVEN.CD_VEN.....);
      OPEN CPAR(RLOJ.CD_LOJ,RVEN.CD_VEN);
      FETCH CPAR INTO RPAR;
      WHILE CPAR%FOUND LOOP
        DBMS_OUTPUT.PUT_LINE(RPAR.CD_LOJ||RPAR.CD_VEN||RPAR....);
        FETCH CPAR INTO RPAR;
      END LOOP;
      CLOSE CPAR;
      FETCH CVEN INTO RVEN;
    END LOOP;
    CLOSE CVEN;
    FETCH CLOJ INTO RLOJ;
  END LOOP;
  CLOSE CLOJ;
END;

      FOR WPAR:= 1..4 LOOP 
      END LOOP;
END;
